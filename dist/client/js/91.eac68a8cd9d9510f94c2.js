"use strict";(self.webpackChunkwebpack=self.webpackChunkwebpack||[]).push([[91],{2091:function(e,a,t){t.r(a);var l=t(7294),i=t(6974),r=t(5966),n=t(8649),p=t(1834),s=t(6583),c=t(5261),o=t(1241),d=t(4086),u=t(1042),m=t(3807);a.default=()=>{const e=(0,i.UO)().appId,a=(0,i.s0)(),t=(0,r.C)((e=>e.auth)),{userId:h,token:v}=t,{formData:x,inputHandler:f,setFormDataHandler:g}=(0,p.Z)({image:{value:"",isValid:!1},title:{value:"",isValid:!1},description:{value:"",isValid:!1},url:{value:"",isValid:!1}},!1),{response:E,error:w,loading:V,sendRequest:b,clearError:I}=(0,n.Z)(!0,{method:"get",url:"".concat("https://stevesan-appport.herokuapp.com","/api/app/").concat(e)});(0,l.useEffect)((()=>{if(null==E||!E.data.app)return;const{image:e,title:a,description:t,url:l}=E.data.app;g({image:{value:e,isValid:!0},title:{value:a,isValid:!0},description:{value:t,isValid:!0},url:{value:l,isValid:!0}},!0)}),[E]);return l.createElement(l.Fragment,null,l.createElement(c.Z,{show:!!w,onClose:I,message:w}),l.createElement("div",{className:"w-screen h-[calc(100vh-70px-70px)]"},l.createElement("div",{className:"w-full h-full flex items-center justify-center text-center"},l.createElement("div",{className:"w-full h-full max-w-[1024px] sm:max-h-[calc(100vh-20vh-70px-70px)] gap-5 p-10 sm:rounded-lg  bg-gray text-maroon overflow-auto"},V&&!w&&l.createElement(o.Z,null),l.createElement("h2",{className:"text-2xl lg:text-3xl font-bold"},"Edit App"),l.createElement("hr",{className:"my-3"}),(null==E?void 0:E.data.app)&&l.createElement("form",{className:"text-lg lg:text-xl",onSubmit:async t=>{t.preventDefault();const{image:l,title:i,description:r,url:n}=x.inputs,p=new FormData;p.append("image",l.value),p.append("title",i.value),p.append("description",r.value),p.append("url",n.value),p.append("author",h);try{await b({method:"patch",url:"".concat("https://stevesan-appport.herokuapp.com","/api/app/").concat(e),data:p,headers:{Authorization:"Bearer ".concat(v)}}),a("/".concat(h,"/app"),{replace:!0})}catch(e){console.log(e)}}},l.createElement(m.Z,{inputId:"image",onInput:f,initialImg:E.data.app.image,initialValid:!0}),l.createElement(u.Z,{label:"Title",inputId:"title",type:"text",placeholder:"App_PORT",errorText:"please enter a valid title(3-30 characters)",onInput:f,validators:[(0,s.Xl)(),(0,s.Jn)(),(0,s.wO)(3),(0,s.nD)(30)],initialValue:E.data.app.title,initialValid:!0}),l.createElement(u.Z,{label:"Description",inputId:"description",type:"text",placeholder:"This is My Portfolio",errorText:"please enter a valid description(10-300 characters)",onInput:f,validators:[(0,s.Xl)(),(0,s.Jn)(),(0,s.wO)(10),(0,s.nD)(300)],textarea:{rows:8},initialValue:E.data.app.description,initialValid:!0}),l.createElement(u.Z,{label:"URL",inputId:"url",type:"url",placeholder:"https://example.com",errorText:"please enter a valid url",onInput:f,validators:[(0,s.Xl)(),(0,s.sS)(),(0,s.wO)(13),(0,s.nD)(2083)],initialValue:E.data.app.url,initialValid:!0}),l.createElement(d.Z,{type:"submit",btnStyle:"submit_btn",disabled:!x.formIsValid},"SUBMIT"))))))}}}]);